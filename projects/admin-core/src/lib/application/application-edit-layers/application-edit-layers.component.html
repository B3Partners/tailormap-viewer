<div class="edit-application-tree">
  <div class="catalog-tree">
    <tm-admin-application-catalog-tree [applicationTreeService]="applicationTreeService"
                                       (addLayer)="addLayer($event)"></tm-admin-application-catalog-tree>
  </div>
  <div class="application-tree">
    <ng-template #applicationTree>
      <tm-admin-application-layer-tree [treeNodes$]="treeNodes$"
                                       (nodePositionChanged)="nodePositionChanged($event)"
                                       (visibilityChanged)="visibilityChanged($event)"
                                       (addSubFolder)="addSubFolder($event)"
                                       (renameFolder)="renameFolder($event)"
                                       (removeNode)="removeNode($event)"></tm-admin-application-layer-tree>
    </ng-template>
    <ng-container *ngIf="loadingServices$ | async; else: applicationTree">
      <mat-spinner mode="indeterminate" diameter="20" color="primary"></mat-spinner>
    </ng-container>
  </div>
</div>
<div class="page-details-actions">
  <tm-admin-save-button [saving$]="saving$" [disabled]="!hasChanges" (save)="save()"></tm-admin-save-button>
  <button mat-flat-button (click)="clearSelectedApplication()" routerLink="/applications" i18n>Close</button>
</div>
