<form [formGroup]="layerSettingsForm" *ngIf="node">
  <h2 i18n="@@admin-core.common.settings-for">Settings for {{ node.label }}</h2>
  <div class="layer-details" *ngIf="serviceLayer">
    <div class="detail">
      <strong i18n="@@admin-core.common.geo-service">Geo service</strong>:
      <a href="#" (click)="updateGeoServiceSetting($event, serviceLayer.service)">{{ serviceLayer.service.title }}<mat-icon svgIcon="edit"></mat-icon></a>
    </div>
    <div class="detail">
      <strong i18n="@@admin-core.catalog.layer-name">Layer name</strong>:
      <a href="#" (click)="updateGeoServiceLayerSetting($event, serviceLayer.service, serviceLayer.layer)">
        {{ serviceLayer.layer.title }}
        <ng-container *ngIf="serviceLayer.layer.title !== serviceLayer.layer.name">
          ({{ serviceLayer.layer.name }})
        </ng-container>
        <mat-icon svgIcon="edit"></mat-icon>
      </a>
    </div>
    <div class="detail" *ngIf="featureSourceAndType$ | async as featureSourceAndType">
      <ng-container *ngIf="featureSourceAndType.featureType">
        <strong i18n="@@admin-core.catalog.feature-type">Feature type</strong>:
        <a href="#" (click)="updateFeatureTypeSetting($event, featureSourceAndType)">
          {{ featureSourceAndType.featureType.title || featureSourceAndType.featureType.name }}
          <mat-icon svgIcon="edit"></mat-icon>
        </a>
      </ng-container>
    </div>
  </div>
  <mat-form-field>
    <mat-label i18n="@@admin-core.common.title">Title</mat-label>
    <input matInput formControlName="title" />
  </mat-form-field>
  <div class="form-field form-field__slider">
    <strong i18n="@@admin-core.application.opacity">Opacity</strong>
    <tm-slider formControlName="opacity"></tm-slider>
  </div>
  <mat-form-field>
    <mat-label i18n="@@admin-core.common.attribution">Attribution</mat-label>
    <input matInput formControlName="attribution" />
  </mat-form-field>
  <mat-form-field>
    <mat-label i18n="@@admin-core.common.description">Description</mat-label>
    <textarea matInput
              placeholder="Description"
              i18n-placeholder="@@admin-core.common.description"
              formControlName="description"
              cdkTextareaAutosize
              cdkAutosizeMinRows="4"
              cdkAutosizeMaxRows="10"></textarea>
  </mat-form-field>
  <span [tmTooltip]="editableTooltip">
    <mat-checkbox formControlName="editable">
      <span i18n="@@admin-core.application.editable">Editable</span>
    </mat-checkbox>
  </span>
  <div *ngIf="featureSourceAndType$ | async as featureSourceAndType">
    <button *ngIf="featureSourceAndType.featureType?.attributes"
            mat-stroked-button
            color="primary"
            (click)="editAppLayerAttribute($event, featureSourceAndType)">
      Edit attribute columns for application layer
      <mat-icon svgIcon="edit"></mat-icon>
    </button>
  </div>
</form>
