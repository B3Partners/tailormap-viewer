<ng-container *ngIf="geoService$ | async as geoService">
  <h2 class="page-details-title" i18n>Edit {{ geoService.title }}</h2>
  <tm-admin-geo-service-form [geoService]="geoService"
                             (changed)="updateGeoService($event)"></tm-admin-geo-service-form>
  <h3>Default layer settings</h3>
  <tm-admin-layer-settings-form [layerSettings]="geoService.settings?.defaultLayerSettings"
                                [protocol]="geoService.protocol"
                                (changed)="updateDefaultLayerSettings($event)"></tm-admin-layer-settings-form>
  <div class="page-details-actions">
    <tm-admin-save-button [saving$]="saving$" [disabled]="!updatedGeoService && !updatedDefaultLayerSettings" (save)="save(geoService)"></tm-admin-save-button>
    <tm-admin-save-button i18n-label
                          *ngIf="geoService.protocol !== 'xyz'"
                          label="Refresh service"
                          [saving$]="refreshing$"
                          (save)="refresh(geoService.id)"></tm-admin-save-button>
    <button mat-flat-button color="warn" (click)="deleteService(geoService)" i18n>Delete</button>
  </div>
</ng-container>
