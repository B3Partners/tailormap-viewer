<ng-container *ngIf="canChangeLanguage">
  <mat-menu #languageMenu="matMenu" xPosition="after" yPosition="above">
    <button *ngFor="let language of availableLanguages" mat-menu-item (click)="selectLanguage(language.code)">
      <mat-icon [svgIcon]="language.icon"></mat-icon>
      <span>{{language.label}}</span>
    </button>
  </mat-menu>

  <button mat-menu-item [matMenuTriggerFor]="languageMenu">
    <mat-icon *ngIf="selectedLanguage" [svgIcon]="selectedLanguage.icon"></mat-icon>
    <span>{{selectedLanguage?.label}}</span>
  </button>
</ng-container>
